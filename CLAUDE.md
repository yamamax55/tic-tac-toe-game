# 🎮 マルバツバトル - Claude開発ガイド

このファイルは、Claude AIがプロジェクトを理解し、効率的に開発作業を行うための指示書です。

## 📋 プロジェクト概要

**プロジェクト名**: マルバツバトル (Tic-Tac-Toe Battle)  
**タイプ**: Webアプリケーション（静的サイト）  
**言語**: HTML5, CSS3, Vanilla JavaScript  
**ホスティング**: GitHub Pages  
**URL**: https://yamamax55.github.io/tic-tac-toe-game/

## 🎯 プロジェクト目標

高品質で美しい三目並べゲームを作成する。以下の要素を重視：
- 🎨 **視覚的魅力**: 美しいアニメーションと背景テーマ
- ♿ **アクセシビリティ**: 色覚異常対応、レスポンシブデザイン
- 🤖 **AI機能**: Minimaxアルゴリズムによる完璧なCPU
- 🔊 **音響体験**: Web Audio APIによる音楽・効果音
- 📱 **モバイル対応**: タッチ操作最適化

## 📁 ファイル構成

```
tic-tac-toe-game/
├── index.html          # メインHTML（全JavaScript含む）
├── style.css           # 全スタイルシート
├── README.md           # プロジェクト説明書
└── CLAUDE.md          # このファイル（Claude用指示書）
```

## 🔧 開発時の重要な指示

### 1. コード品質の維持
- **コメント**: ユーザーが明示的に要求しない限り、コメントは追加しない
- **構造**: 機能ごとに明確に分離されたコード構造を維持
- **命名**: 分かりやすく一貫性のある変数・関数名を使用

### 2. 機能実装の原則
- **段階的実装**: 大きな機能は小さなステップに分けて実装
- **テスト**: 実装後は必ず動作確認を行う
- **互換性**: 既存機能を壊さずに新機能を追加

### 3. Git管理
- **コミットメッセージ**: 英語で詳細な説明を記述
- **変更追跡**: 機能追加時は必ずREADME.mdも更新
- **自動プッシュ**: コミット後は自動的にGitHubにプッシュ

## 🎮 現在実装済みの機能

### ゲーム機能
- ✅ 2人プレイモード
- ✅ CPU対戦（最強・接待モード）
- ✅ スコア記録・統計
- ✅ ゲームリセット機能

### ビジュアル・UI
- ✅ レスポンシブデザイン（モバイル完全対応）
- ✅ ダークモード/ライトモード切り替え
- ✅ 色覚異常対応カラーパレット
- ✅ 4種類の背景テーマ（デフォルト・宇宙・海・森）
- ✅ 勝利セルの光るアニメーション
- ✅ シンボル配置時のバウンスアニメーション
- ✅ テーマ別パーティクル効果（花火・星・泡・葉）

### 音響システム
- ✅ Web Audio APIによるBGM生成
- ✅ クリック音・勝利音・引き分け音
- ✅ BGM/SFXの個別ON/OFF制御

### 技術機能
- ✅ LocalStorage設定保存
- ✅ タッチ操作最適化
- ✅ Minimax AIアルゴリズム

## 🚧 推奨する次の改善項目

### 優先度: 高
1. **4×4ボードモード**: より戦略的なゲームプレイ
2. **カスタムシンボル**: ◯×以外の選択肢追加
3. **詳細統計**: グラフ表示・勝率分析

### 優先度: 中
4. **実績システム**: バッジ・レベル機能
5. **PWA対応**: オフライン動作・ホーム画面追加
6. **キーボード操作**: アクセシビリティ向上

### 優先度: 低
7. **オンライン対戦**: WebSocket実装
8. **多言語対応**: 国際化対応
9. **音楽カスタム**: BGMの種類選択

## 💡 開発時の注意点

### パフォーマンス
- パーティクル効果は適切にクリーンアップする
- アニメーションは60fps維持を目指す
- モバイル端末での動作を常に考慮

### アクセシビリティ
- タップ領域は最小44px確保
- 色覚異常対応を常に考慮
- スクリーンリーダー対応（将来的）

### ブラウザ対応
- モダンブラウザ（Chrome, Firefox, Safari, Edge）
- ES6+構文の使用可能
- Web Audio API対応ブラウザ

## 📝 README.md更新ルール

機能追加・変更時は以下の項目を必ず更新：

1. **✨ 特徴** セクション - 新機能の説明
2. **🛠️ 技術スタック** セクション - 使用技術の追加
3. **🎮 使い方** セクション - 操作方法の更新
4. **🎯 今後の改善予定** セクション - 完了項目の整理

## 🎯 品質基準

### コード品質
- ✅ ESLintルールに準拠
- ✅ 関数は単一責任の原則
- ✅ マジックナンバーの排除
- ✅ 適切なエラーハンドリング

### ユーザビリティ
- ✅ 直感的なUI/UX
- ✅ 高速な応答性能
- ✅ バリアフリー対応
- ✅ モバイルファースト

### 保守性
- ✅ 明確なコード構造
- ✅ 拡張しやすい設計
- ✅ 包括的なドキュメント
- ✅ バージョン管理の徹底

---

**重要**: このファイルはプロジェクトの改善・拡張時に常に最新状態に保つこと。新機能実装時は、このガイドラインに従って品質を維持すること。